/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/vanilla-colorful@0.7.2/lib/entrypoints/hex.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const t=(t,e=0,o=1)=>t>o?o:t<e?e:t,e=(t,e=0,o=Math.pow(10,e))=>Math.round(o*t)/o,o=t=>("#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?e(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?e(parseInt(t.substring(6,8),16)/255,2):1}),r=t=>{const{h:o,s:r,l:s}=(({h:t,s:o,v:r,a:s})=>{const n=(200-o)*r/100;return{h:e(t),s:e(n>0&&n<200?o*r/100/(n<=100?n:200-n)*100:0),l:e(n/2),a:e(s,2)}})(t);return`hsl(${o}, ${r}%, ${s}%)`},s=({h:t,s:o,v:r,a:s})=>{t=t/360*6,o/=100,r/=100;const n=Math.floor(t),a=r*(1-o),i=r*(1-(t-n)*o),l=r*(1-(1-t+n)*o),h=n%6;return{r:e(255*[r,i,a,a,l,r][h]),g:e(255*[l,r,r,i,a,a][h]),b:e(255*[a,a,l,r,r,i][h]),a:e(s,2)}},n=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},a=({r:t,g:o,b:r,a:s})=>{const a=s<1?n(e(255*s)):"";return"#"+n(t)+n(o)+n(r)+a},i=({r:t,g:o,b:r,a:s})=>{const n=Math.max(t,o,r),a=n-Math.min(t,o,r),i=a?n===t?(o-r)/a:n===o?2+(r-t)/a:4+(t-o)/a:0;return{h:e(60*(i<0?i+6:i)),s:e(n?a/n*100:0),v:e(n/255*100),a:s}},l=(t,e)=>{if(t===e)return!0;for(const o in t)if(t[o]!==e[o])return!1;return!0},h={},c=t=>{let e=h[t];return e||(e=document.createElement("template"),e.innerHTML=t,h[t]=e),e},d=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let u=!1;const p=t=>"touches"in t,g=(e,o)=>{const r=p(o)?o.touches[0]:o,s=e.el.getBoundingClientRect();d(e.el,"move",e.getMove({x:t((r.pageX-(s.left+window.pageXOffset))/s.width),y:t((r.pageY-(s.top+window.pageYOffset))/s.height)}))};class b{constructor(t,e,o,r){const s=c(`<div role="slider" tabindex="0" part="${e}" ${o}><div part="${e}-pointer"></div></div>`);t.appendChild(s.content.cloneNode(!0));const n=t.querySelector(`[part=${e}]`);n.addEventListener("mousedown",this),n.addEventListener("touchstart",this),n.addEventListener("keydown",this),this.el=n,this.xy=r,this.nodes=[n.firstChild,n]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(u?"touchmove":"mousemove",this),e(u?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(t=>!(u&&!p(t)||(u||(u=p(t)),0)))(t)||!u&&0!=t.button)return;this.el.focus(),g(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),g(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,e)=>{const o=e.keyCode;o>40||t.xy&&o<37||o<33||(e.preventDefault(),d(t.el,"move",t.getMove({x:39===o?.01:37===o?-.01:34===o?.05:33===o?-.05:35===o?1:36===o?-1:0,y:40===o?.01:38===o?-.01:0},!0)))})(this,t)}}style(t){t.forEach(((t,e)=>{for(const o in t)this.nodes[e].style.setProperty(o,t[o])}))}}class f extends b{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:r({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${e(t)}`)}getMove(e,o){return{h:o?t(this.h+360*e.x,0,360):360*e.x}}}class v extends b{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:r(t)},{"background-color":r({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${e(t.s)}%, Brightness ${e(t.v)}%`)}getMove(e,o){return{s:o?t(this.hsva.s+100*e.x,0,100):100*e.x,v:o?t(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const m=Symbol("same"),x=Symbol("color"),y=Symbol("hsva"),w=Symbol("update"),M=Symbol("parts"),k=Symbol("css"),C=Symbol("sliders");class $ extends HTMLElement{static get observedAttributes(){return["color"]}get[k](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[C](){return[v,f]}get color(){return this[x]}set color(t){if(!this[m](t)){const e=this.colorModel.toHsva(t);this[w](e),this[x]=t}}constructor(){super();const t=c(`<style>${this[k].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[M]=this[C].map((t=>new t(e)))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,o){const r=this.colorModel.fromAttr(o);this[m](r)||(this.color=r)}handleEvent(t){const e=this[y],o={...e,...t.detail};let r;this[w](o),l(o,e)||this[m](r=this.colorModel.fromHsva(o))||(this[x]=r,d(this,"color-changed",{value:r}))}[m](t){return this.color&&this.colorModel.equal(t,this.color)}[w](t){this[y]=t,this[M].forEach((e=>e.update(t)))}}const E={defaultColor:"#000",toHsva:t=>i(o(t)),fromHsva:({h:t,s:e,v:o})=>a(s({h:t,s:e,v:o,a:1})),equal:(t,e)=>t.toLowerCase()===e.toLowerCase()||l(o(t),o(e)),fromAttr:t=>t};class S extends ${get colorModel(){return E}}export{S as HexBase};export default null;
